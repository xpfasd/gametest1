<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‡ªåŠ¨Bannerå¹¿å‘Šæµ‹è¯• - v2.0.0</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        h1 {
            text-align: center;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .status-panel {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .feature-list {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .feature-list h3 {
            color: #4ade80;
            margin-top: 0;
        }
        
        .feature-list ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .feature-list li {
            margin: 8px 0;
            color: #e5e7eb;
        }
        
        .control-panel {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .control-panel button {
            background: #4ade80;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
            transition: background 0.3s;
        }
        
        .control-panel button:hover {
            background: #22c55e;
        }
        
        .control-panel button:disabled {
            background: #6b7280;
            cursor: not-allowed;
        }
        
        .log-area {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .log-entry {
            margin: 2px 0;
            word-wrap: break-word;
        }
        
        .log-info { color: #60a5fa; }
        .log-success { color: #4ade80; }
        .log-warning { color: #fbbf24; }
        .log-error { color: #f87171; }
        
        .game-area {
            height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            margin: 20px 0;
            font-size: 18px;
        }
        
        .notice {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid #4ade80;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .notice h4 {
            color: #4ade80;
            margin-top: 0;
        }
        
        /* ä¸ºäº†ç»™åº•éƒ¨Bannerè…¾å‡ºç©ºé—´ */
        body {
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ è‡ªåŠ¨Bannerå¹¿å‘Šæµ‹è¯• v2.0.0</h1>
        
        <div class="notice">
            <h4>âœ¨ æ–°ç‰¹æ€§ï¼šè‡ªåŠ¨åº•éƒ¨Bannerå¹¿å‘Š</h4>
            <p>ç°åœ¨ä¸éœ€è¦åœ¨é¡µé¢ä¸­é¢„è®¾ä»»ä½•å®¹å™¨ï¼ŒSDKä¼šè‡ªåŠ¨åœ¨é¡µé¢åº•éƒ¨åˆ›å»ºå¹¶æ’å…¥320x50çš„Bannerå¹¿å‘Šã€‚</p>
        </div>
        
        <div class="feature-list">
            <h3>ğŸ¯ ä¸»è¦ç‰¹æ€§ï¼š</h3>
            <ul>
                <li>âœ… è‡ªåŠ¨åœ¨é¡µé¢åº•éƒ¨åˆ›å»º320x50æ¨ªå¹…å¹¿å‘Š</li>
                <li>âœ… å›ºå®šä½ç½®æ˜¾ç¤ºï¼ˆposition: fixed; bottom: 0ï¼‰</li>
                <li>âœ… è‡ªåŠ¨é€‚é…å±å¹•å®½åº¦ï¼Œå±…ä¸­æ˜¾ç¤º</li>
                <li>âœ… åŠ è½½çŠ¶æ€æŒ‡ç¤ºå™¨</li>
                <li>âœ… åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯å¹¶è‡ªåŠ¨éšè—</li>
                <li>âœ… é‡å¤åˆ›å»ºä¿æŠ¤ï¼ˆé˜²æ­¢å¤šæ¬¡åˆ›å»ºï¼‰</li>
                <li>âœ… é«˜z-indexç¡®ä¿åœ¨æœ€ä¸Šå±‚æ˜¾ç¤º</li>
            </ul>
        </div>
        
        <div class="status-panel">
            <h3>ğŸ“Š SDKçŠ¶æ€</h3>
            <div id="sdk-status">æ­£åœ¨æ£€æŸ¥SDKçŠ¶æ€...</div>
        </div>
        
        <div class="control-panel">
            <h3>ğŸ® æ§åˆ¶é¢æ¿</h3>
            <button onclick="enableAutoBanner()">å¯ç”¨è‡ªåŠ¨Banner</button>
            <button onclick="disableAutoBanner()">ç¦ç”¨è‡ªåŠ¨Banner</button>
            <button onclick="manualLoadBanner()">æ‰‹åŠ¨åŠ è½½Banner</button>
            <button onclick="getConfig()">æŸ¥çœ‹é…ç½®</button>
            <button onclick="clearLogs()">æ¸…ç©ºæ—¥å¿—</button>
        </div>
        
        <div class="game-area">
            <div>ğŸ® æ¨¡æ‹Ÿæ¸¸æˆåŒºåŸŸ</div>
        </div>
        
        <div class="log-area" id="log-area">
            <div class="log-info">ç­‰å¾…æ—¥å¿—è¾“å‡º...</div>
        </div>
    </div>

    <!-- åŠ è½½SDK -->
    <script src="scripts/v2/poki-sdk.js"></script>

    <script>
        // æ—¥å¿—è®°å½•
        function addLog(message, type = 'info') {
            const logArea = document.getElementById('log-area');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${type}`;
            logEntry.textContent = `[${timestamp}] ${message}`;
            logArea.appendChild(logEntry);
            logArea.scrollTop = logArea.scrollHeight;
        }
        
        // è¦†ç›–console.logæ¥æ•è·SDKæ—¥å¿—
        const originalLog = console.log;
        const originalWarn = console.warn;
        const originalError = console.error;
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            const message = args.map(arg => 
                typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
            ).join(' ');
            if (message.includes('PokiSDK')) {
                addLog(message, 'info');
            }
        };
        
        console.warn = function(...args) {
            originalWarn.apply(console, args);
            const message = args.map(arg => 
                typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
            ).join(' ');
            if (message.includes('PokiSDK')) {
                addLog(message, 'warning');
            }
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            const message = args.map(arg => 
                typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
            ).join(' ');
            if (message.includes('PokiSDK')) {
                addLog(message, 'error');
            }
        };
        
        // æ§åˆ¶å‡½æ•°
        function enableAutoBanner() {
            addLog('æ‰‹åŠ¨å¯ç”¨è‡ªåŠ¨Bannerå¹¿å‘Š', 'info');
            window.PokiSDK.enableAutoBanner(true);
        }
        
        function disableAutoBanner() {
            addLog('æ‰‹åŠ¨ç¦ç”¨è‡ªåŠ¨Bannerå¹¿å‘Š', 'warning');
            window.PokiSDK.enableAutoBanner(false);
        }
        
        function manualLoadBanner() {
            addLog('æ£€æŸ¥æ˜¯å¦å­˜åœ¨è‡ªåŠ¨åˆ›å»ºçš„Bannerå®¹å™¨...', 'info');
            const existingBanner = document.getElementById('poki-auto-banner-ad');
            if (existingBanner) {
                addLog('å‘ç°å·²å­˜åœ¨çš„Bannerå®¹å™¨ï¼Œç§»é™¤åé‡æ–°åˆ›å»º', 'warning');
                existingBanner.remove();
            }
            
            // è§¦å‘è‡ªåŠ¨åŠ è½½
            setTimeout(() => {
                if (typeof autoLoadBannerAds === 'function') {
                    autoLoadBannerAds();
                } else {
                    addLog('autoLoadBannerAdså‡½æ•°ä¸å¯è®¿é—®ï¼Œå°è¯•é‡æ–°å¯ç”¨', 'warning');
                    window.PokiSDK.enableAutoBanner(false);
                    setTimeout(() => window.PokiSDK.enableAutoBanner(true), 100);
                }
            }, 100);
        }
        
        function getConfig() {
            const config = window.PokiSDK.getAutoBannerConfig();
            addLog('å½“å‰è‡ªåŠ¨Banneré…ç½®: ' + JSON.stringify(config, null, 2), 'info');
        }
        
        function clearLogs() {
            document.getElementById('log-area').innerHTML = '<div class="log-info">æ—¥å¿—å·²æ¸…ç©º</div>';
        }
        
        // ç›‘å¬Bannerå¹¿å‘Šäº‹ä»¶
        window.addEventListener('bannerAdLoaded', function(event) {
            addLog('ğŸ‰ Bannerå¹¿å‘ŠåŠ è½½æˆåŠŸäº‹ä»¶: ' + JSON.stringify(event.detail), 'success');
            updateStatus();
        });
        
        window.addEventListener('bannerAdError', function(event) {
            addLog('âŒ Bannerå¹¿å‘ŠåŠ è½½å¤±è´¥äº‹ä»¶: ' + JSON.stringify(event.detail), 'error');
            updateStatus();
        });
        
        // æ›´æ–°çŠ¶æ€
        function updateStatus() {
            const statusDiv = document.getElementById('sdk-status');
            const bannerExists = !!document.getElementById('poki-auto-banner-ad');
            const config = window.PokiSDK.getAutoBannerConfig();
            
            statusDiv.innerHTML = `
                <div>SDKç‰ˆæœ¬: ${window.PokiSDK ? '2.0.0' : 'æœªåŠ è½½'}</div>
                <div>è‡ªåŠ¨Banner: ${config.enabled ? 'âœ… å·²å¯ç”¨' : 'âŒ å·²ç¦ç”¨'}</div>
                <div>Bannerå®¹å™¨: ${bannerExists ? 'âœ… å·²åˆ›å»º' : 'âŒ ä¸å­˜åœ¨'}</div>
                <div>é¡µé¢URL: ${window.location.href}</div>
                <div>ç”¨æˆ·ä»£ç†: ${navigator.userAgent.substring(0, 60)}...</div>
            `;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            addLog('=== è‡ªåŠ¨Bannerå¹¿å‘Šæµ‹è¯•é¡µé¢ v2.0.0 ===', 'success');
            addLog('é¡µé¢URL: ' + window.location.href, 'info');
            addLog('SDKè‡ªåŠ¨åŠ è½½ä¸­...', 'info');
            
            // å®šæœŸæ›´æ–°çŠ¶æ€
            setInterval(updateStatus, 2000);
            updateStatus();
            
            // æ£€æŸ¥Banneræ˜¯å¦å·²åˆ›å»º
            setTimeout(() => {
                const bannerExists = !!document.getElementById('poki-auto-banner-ad');
                if (bannerExists) {
                    addLog('âœ… æ£€æµ‹åˆ°è‡ªåŠ¨åˆ›å»ºçš„Bannerå®¹å™¨', 'success');
                } else {
                    addLog('âš ï¸ æš‚æœªæ£€æµ‹åˆ°Bannerå®¹å™¨ï¼Œå¯èƒ½æ­£åœ¨åŠ è½½ä¸­...', 'warning');
                }
            }, 3000);
        });
        
        // é¡µé¢å¸è½½æ—¶æ¸…ç†
        window.addEventListener('beforeunload', function() {
            addLog('é¡µé¢å³å°†å¸è½½ï¼Œæ¸…ç†èµ„æº...', 'info');
        });
    </script>
</body>
</html> 